---
title: "字符串划分"
subtitle: "微软笔试笔记"
layout: post
author: "L Hondong"
header-img: "img/post-bg-12.jpg"
mathjax: ture
tags:
  - Microsoft
  - 算法
---

# 字符串划分

## 题目

一个由 N 个小写英文字母组成的字符串 S，可以通过多少种方式将
S 分成两个非空部分，使得字母 'x' 和宇母 'y' 至少在一个部分中出现相同的次数。

## 示例

示例 1:

```
S = "ayxbx", return 3
S 有四种可能的拆分："a/yxbx", "ay/xbx", "ayx/bx" 和 "ayxb/x"。
只有 "ay/xbx" 不符合条件，所以答案是3。
```

示例 2:

```
S = "xzzzy", return 0
```

示例 3:

```
S = "toyxmy", return 5
```

示例 2:

```
S = "apple", return 4
```

## 题解

🐷🐷解法：

```python
def solution(S):
    resx = [0] * (len(S))
    resy = [0] * (len(S))
    res = 0
    for i in range(len(S)):
        if S[i] == 'x':
            resx[i]  = resx[i-1]+1
            resy[i]  = resy[i-1]
        elif S[i] == 'y':
            resy[i] = resy[i-1]+1
            resx[i] = resx[i-1]
        else:
            resy[i] = resy[i-1]
            resx[i] = resx[i-1]
    for j in range(len(S)-1):
        if resx[j] == resy[j] or (resx[-1]-resx[j]) == (resy[-1]-resy[j]): res += 1  
    return res
```

（从🐷🐷的解法中学来的嘻嘻）

```python
def solution(S):
    resx = [0]
    resy = [0]
    res = 0
    for i in range(len(S)):
        if S[i] == 'x':
            resx.append(resx[i] + 1)
            resy.append(resy[i])
        elif S[i] == 'y':
            resx.append(resx[i])
            resy.append(resy[i] + 1)
        else:
            resx.append(resx[i])
            resy.append(resy[i])
    for j in range(1, len(S)):
        if resx[j] == resy[j] or (resx[-1]-resx[j]) == (resy[-1]-resy[j]): res += 1  
    return res
```

## 笔记

前缀和反前缀和。

维护两个列表，记录当前位置前面有几个 x 和 y，第二次循环比较在当前位置划分前面子串 x 和 y 的数量（前缀和）是否相同，后面子串 x 和 y 的数量（反前缀和）是否相同。

如 "ayxbx"，维护列表为 resx = [0, 0, 1, 1, 2]，resy = [0, 1, 1, 1, 1]

- i = 0 时划分为 "a/yxbx"，x 和 y 的前缀和都等于 0。
- i = 1 时划分为 "ay/xbx"，x 和 y 的前缀和，反前缀和均不相同。
- i = 2 时划分为 "ayx/bx"，x 和 y 的前缀和都等于 1。
- i = 3 时划分为 "ayxb/x"，x 和 y 的前缀和都等于 1。