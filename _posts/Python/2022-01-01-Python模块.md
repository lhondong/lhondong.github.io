---
title: "Python 模块"
subtitle: ""
layout: post
author: "L Hondong"
header-img: "img/post-bg-7.jpg"
tags:
  - Python
  - Python 模块
---

# Python 模块

已经被封装好，声明导入后，拿来即用

## 广义模块分类

### 内置

- 时间库 time
- 随机库 random
- 容器数据类型 collection
- 迭代器函数 itertools

### 第三方

- 数据分析 numpy pandas
- 数据可视化 matplotlib
- 机器学习 scikit-learn
- 深度学习 Tensorflow PyTorch

### 自定义

- 单独 py 文件
- 包：多个py文件

## 模块的导入

- 导入整个模块 `import 模块名`，调用方式：`模块名.函数名或类名`
- 从模块中导入类或函数 `from 模块 import 类名或函数名`，调用方式：`函数名或类名`，可以一次导入多个
- 导入模块中所有的类和函数 `from 模块 import *`

## 模块查找路径

模块搜索查找顺序：

1. 内存中已经加载的模块
2. 内置模块

```python
# Python 启动时，解释器会默认加载一些 modules 存放在sys.modules中
# sys.modules 变量包含一个由当前载入(完整且成功导入)到解释器的模块组成的字典, 模块名作为键, 它们的位置作为值
import sys

print(len(sys.modules))
print("math" in sys.modules)
print("numpy" in sys.modules)
for k,v in list(sys.modules.items())[:5]:
    print(k, ":", v)

Out:
917
True
False
sys : <module 'sys' (built-in)>
builtins : <module 'builtins' (built-in)>
_frozen_importlib : <module 'importlib._bootstrap' (frozen)>
_imp : <module '_imp' (built-in)>
_thread : <module '_thread' (built-in)>
```

3. sys.path 添加路径

```python
import sys

sys.path

Out:
'[/Users/hondongl/Documents/Code',
 '/usr/local/anaconda3/lib/python39.zip',
 '/usr/local/anaconda3/lib/python3.9',
 '/usr/local/anaconda3/lib/python3.9/lib-dynload',
 '',
 '/usr/local/anaconda3/lib/python3.9/site-packages',
 '/usr/local/anaconda3/lib/python3.9/site-packages/aeosa',
 '/usr/local/anaconda3/lib/python3.9/site-packages/locket-0.2.1-py3.9.egg',
 '/usr/local/anaconda3/lib/python3.9/site-packages/IPython/extensions',
 '/Users/hondongl/.ipython']
```

- sys.path 的第一个路径是当前执行文件所在的文件夹
- 若需将不在该文件夹内的模块导入，需要将模块的路径添加到 sys.path

```python
import sys

sys.path.append("地址")    # 注意是双斜杠

import fun

fun.f1()

>>> 导入fun成功
```